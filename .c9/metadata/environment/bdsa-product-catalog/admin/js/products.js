{"filter":false,"title":"products.js","tooltip":"/bdsa-product-catalog/admin/js/products.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":112,"column":1},"action":"remove","lines":["/*global $*/","","// READ recods on page load","$(document).ready(function () {","    readRecords(); // calling function","});","","// READ records","function readRecords() {","    $.get(\"/products/\", {}, function (data, status) {","        data.forEach(function(value) {","            var row = '<tr id=\"row_id_'+ value.id +'\">'","            \t\t\t+ displayColumns(value)","        \t\t\t\t+ '</tr>';","            $('#articles').append(row);","        });","    });","}","","function displayColumns(value) {","    return \t'<td>'+value.id+'</td>'","            + '<td class=\"category_id\">'+value.category.name+'</td>'","            + '<td class=\"name\">'+value.name+'</td>'","\t\t\t+ '<td class=\"description\">'+value.description+'</td>'","\t\t\t+ '<td align=\"center\">'","\t\t\t+\t'<button onclick=\"viewRecord('+ value.id +')\" class=\"btn btn-edit\">Update</button>'","\t\t\t+ '</td>'","\t\t\t+ '<td align=\"center\">'","\t\t\t+\t'<button onclick=\"deleteRecord('+ value.id +')\" class=\"btn btn-danger\">Delete</button>'","\t\t\t+ '</td>';","}","","function addRecord() {","    $('#id').val('');","    $('#category_id').val('');","    $('#name').val('');","    $('#description').val('');","    ","    $('#myModalLabel').html('Add New Product');","}","","function viewRecord(id) {","    var url = \"/products/\" + id;","    ","    $.get(url, {}, function (data, status) {","        //bind the values to the form fields","        $('#category_id').val(data.category_id);","        $('#name').val(data.name);","        $('#description').val(data.description);","        $('#id').val(id);","        $('#myModalLabel').html('Edit Product');","        ","        $('#add_new_record_modal').modal('show');","    });","}","","function saveRecord() {","    //get data from the html form","    var formData = $('#record_form').serializeObject();","    ","    //decide if it's an edit or create","    if(formData.id) {","        updateRecord(formData);","    } else {","        createRecord(formData);","    }","}","","function createRecord(formData) {","    $.ajax({","        url: '/products/',","        type: 'POST',","        accepts: {","            json: 'application/json'","        },","        data: formData,","        success: function(data) {","            $('#add_new_record_modal').modal('hide');","            ","            var row = '<tr id=\"row_id_'+ data.id +'\">'","            \t\t\t+ displayColumns(data)","        \t\t\t\t+ '</tr>';","            $('#articles').append(row);","        } ","    });","}","","function updateRecord(formData) {","    $.ajax({","        url: '/products/'+formData.id,","        type: 'PUT',","        accepts: {","            json: 'application/json'","        },","        data: formData,","        success: function(data) {","            $('#row_id_'+formData.id+'>td.category_id').html(formData.category_id);","            $('#row_id_'+formData.id+'>td.name').html(formData.name);","            $('#row_id_'+formData.id+'>td.description').html(formData.description);","            $('#add_new_record_modal').modal('hide');","        } ","    });","}","","function deleteRecord(id) {","    $.ajax({","        url: '/products/'+id,","        type: 'DELETE',","        success: function(data) {","            $('#row_id_'+id).remove();","        }","    });","}"],"id":3},{"start":{"row":0,"column":0},"end":{"row":114,"column":1},"action":"insert","lines":["/*global $*/","","// READ recods on page load","$(document).ready(function () {","    readRecords(); // calling function","});","","// READ records","function readRecords() {","    $.get(\"/products/\", {}, function (data, status) {","        data.forEach(function(value) {","            var row = '<tr id=\"row_id_'+ value.id +'\">'","            \t\t\t+ displayColumns(value)","        \t\t\t\t+ '</tr>';","            $('#articles').append(row);","        });","    });","}","","function displayColumns(value) {","    return \t'<td>'+value.id+'</td>'","            + '<td class=\"category_id\">'+value.category.name+'</td>'","            + '<td class=\"name\">'+value.name+'</td>'","            + '<td class=\"price\">'+value.price+'</td>'","\t\t\t+ '<td class=\"description\">'+value.description+'</td>'","\t\t\t+ '<td align=\"center\">'","\t\t\t+\t'<button onclick=\"viewRecord('+ value.id +')\" class=\"btn btn-edit\">Update</button>'","\t\t\t+ '</td>'","\t\t\t+ '<td align=\"center\">'","\t\t\t+\t'<button onclick=\"deleteRecord('+ value.id +')\" class=\"btn btn-danger\">Delete</button>'","\t\t\t+ '</td>';","}","","function addRecord() {","    $('#id').val('');","    $('#category_id').val('');","    $('#name').val('');","    $('#description').val('');","    $('#price').val('');","    $('#myModalLabel').html('Add New Product');","}","","function viewRecord(id) {","    var url = \"/products/\" + id;","    ","    $.get(url, {}, function (data, status) {","        //bind the values to the form fields","        $('#category_id').val(data.category_id);","        $('#name').val(data.name);","        $('#price').val(data.price);","        $('#description').val(data.description);","        $('#id').val(id);","        $('#myModalLabel').html('Edit Product');","        $('#add_new_record_modal').modal('show');","    });","}","","function saveRecord() {","    //get data from the html form","    var formData = $('#record_form').serializeObject();","    ","    //decide if it's an edit or create","    if(formData.id) {","        updateRecord(formData);","    } else {","        createRecord(formData);","    }","}","","function createRecord(formData) {","    $.ajax({","        url: '/products/',","        type: 'POST',","        accepts: {","            json: 'application/json'","        },","        data: formData,","        success: function(data) {","            $('#add_new_record_modal').modal('hide');","            ","            var row = '<tr id=\"row_id_'+ data.id +'\">'","            \t\t\t+ displayColumns(data)","        \t\t\t\t+ '</tr>';","            $('#articles').append(row);","        } ","    });","}","","function updateRecord(formData) {","    $.ajax({","        url: '/products/'+formData.id,","        type: 'PUT',","        accepts: {","            json: 'application/json'","        },","        data: formData,","        success: function(data) {","            $('#row_id_'+formData.id+'>td.category_id').html(formData.category_id);","            $('#row_id_'+formData.id+'>td.name').html(formData.name);","            $('#row_id_'+formData.id+'>td.price').html(formData.price);","            $('#row_id_'+formData.id+'>td.description').html(formData.description);","            $('#add_new_record_modal').modal('hide');","        } ","    });","}","","function deleteRecord(id) {","    $.ajax({","        url: '/products/'+id,","        type: 'DELETE',","        success: function(data) {","            $('#row_id_'+id).remove();","        }","    });","}"]}]]},"ace":{"folds":[],"scrolltop":1512,"scrollleft":0,"selection":{"start":{"row":109,"column":10},"end":{"row":109,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":93,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1578951625545,"hash":"81914b4d0d1febe8109796a4f7de96b4f8ce9069"}